
<!DOCTYPE html>
<!-- El atributo lang="es" le dice al navegador que el idioma principal de la página es español. -->
<html lang="es">
<head>
    <!-- Configuración de caracteres para que se muestren bien las tildes y eñes. -->
    <meta charset="UTF-8">
    <!-- Asegura que la página se vea bien en todos los dispositivos (diseño responsivo). -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- El título que aparece en la pestaña del navegador. -->
    <title>Pomodoro App - Fabri Coronil</title>
    <!-- Enlace a la hoja de estilos CSS que da diseño a la página. -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <!-- =================================================================== -->
    <!-- PANTALLA DE BIENVENIDA (#welcomeScreen)                           -->
    <!-- =================================================================== -->
    <div id="welcomeScreen" class="screen active">
        <div class="welcome-container">
            <h1 class="welcome-title">¡Bienvenido Fabri Coronil!</h1>
            <p class="welcome-subtitle">Es hora de trabajar!</p>
            <div class="welcome-buttons">
                <button class="continue-btn" onclick="showSelection()" id="continueBtn" style="display: none;">Continuar</button>
                <button class="continue-btn" onclick="showLogin()">Iniciar Sesión</button>
                <button class="continue-btn" onclick="showHistory()">Ver Historial</button>
            </div>
        </div>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DE LOGIN (#loginScreen)                                 -->
    <!-- =================================================================== -->
    <div id="loginScreen" class="screen">
        <div class="auth-container">
            <h2 class="auth-title">Iniciar Sesión</h2>
            <input type="email" id="loginEmail" placeholder="Email" required>
            <input type="password" id="loginPassword" placeholder="Contraseña" required>
            <button class="auth-btn" onclick="login()">Login</button>
            <p>¿No tienes una cuenta? <a href="#" onclick="showRegister()">Regístrate</a></p>
        </div>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DE REGISTRO (#registerScreen)                           -->
    <!-- =================================================================== -->
    <div id="registerScreen" class="screen">
        <div class="auth-container">
            <h2 class="auth-title">Registro</h2>
            <input type="email" id="registerEmail" placeholder="Email" required>
            <input type="password" id="registerPassword" placeholder="Contraseña" required>
            <button class="auth-btn" onclick="register()">Register</button>
            <p>¿Ya tienes una cuenta? <a href="#" onclick="showLogin()">Inicia Sesión</a></p>
        </div>
    </div>


    <!-- =================================================================== -->
    <!-- PANTALLA DE SELECCIÓN DE ESTUDIO (#selectionScreen)             -->
    <!-- =================================================================== -->
    <div id="selectionScreen" class="screen">
        <div class="selection-container">
            <h2 class="selection-title">Elige tu área de estudio</h2>
            <div class="cards-container">
                <div class="study-card" onclick="selectStudy('universidad')">
                    <div class="card-icon">🎓</div>
                    <h3>Universidad Cuenca de la Plata</h3>
                    <p>Ingeniería en Sistemas</p>
                </div>
                <div class="study-card" onclick="selectStudy('utn')">
                    <div class="card-icon">💻</div>
                    <h3>UTN</h3>
                    <p>Desarrollador Web Full Stack</p>
                </div>
            </div>
            <button class="back-btn" onclick="goBackToWelcome()">Volver</button>
            <button class="logout-btn" onclick="logout()">Cerrar Sesión</button>
        </div>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DE SELECCIÓN DE MATERIAS (#subjectsScreen)              -->
    <!-- =================================================================== -->
    <div id="subjectsScreen" class="screen">
        <div class="subjects-container">
            <h2 class="subjects-title">¡Selecciona una materia!</h2>
            <div class="subjects-grid">
                <div class="subject-card" onclick="startPomodoro('Programación Estructurada')">
                    <div class="subject-icon">📝</div>
                    <h3>Programación Estructurada</h3>
                </div>
                <div class="subject-card" onclick="startPomodoro('Matemática Discreta')">
                    <div class="subject-icon">🔢</div>
                    <h3>Matemática Discreta</h3>
                </div>
                <div class="subject-card" onclick="startPomodoro('Análisis Matemático')">
                    <div class="subject-icon">📊</div>
                    <h3>Análisis Matemático</h3>
                </div>
                <div class="subject-card" onclick="startPomodoro('Arquitectura de Computadoras')">
                    <div class="subject-icon">📐</div>
                    <h3>Arquitectura de Computadoras</h3>
                </div>
            </div>
            <div class="weekly-schedule" id="weeklySchedule">
                <h2>Horario Semanal</h2>
                <div id="weeklyScheduleContent"></div>
            </div>
            <button class="back-btn" onclick="goBack()">Volver</button>
        </div>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DEL POMODORO (#pomodoroScreen)                          -->
    <!-- =================================================================== -->
    <div id="pomodoroScreen" class="screen">
        <div class="pomodoro-container">
            <h2 id="currentActivity">Sesión de Estudio</h2>
            <div class="timer-setup" id="timerSetup">
                <h3>Configurar Pomodoro</h3>
                <div class="time-inputs">
                    <div class="input-group">
                        <label>Tiempo de trabajo (min):</label>
                        <input type="number" id="workTime" value="25" min="1" max="120">
                    </div>
                    <div class="input-group">
                        <label>Tiempo de descanso (min):</label>
                        <input type="number" id="breakTime" value="5" min="1" max="30">
                    </div>
                </div>
                <button class="start-btn" onclick="initializeTimer()">Comenzar</button>
            </div>
            <div class="timer-display" id="timerDisplay" style="display: none;">
                <div class="timer-circle">
                    <div class="timer-progress" id="timerProgress"></div>
                    <div class="timer-content">
                        <div class="timer-time" id="timerTime">25:00</div>
                        <div class="timer-status" id="timerStatus">TRABAJO</div>
                    </div>
                </div>
                <div class="timer-controls">
                    <button class="control-btn" id="pauseBtn" onclick="pauseTimer()">Pausar</button>
                    <button class="control-btn" id="resetBtn" onclick="resetTimer()">Restablecer</button>
                    <button class="control-btn" id="finishBtn" onclick="finishTimer()">Terminar</button>
                </div>
                <div class="session-info">
                    <div class="session-counter">
                        <span>Sesión: <span id="sessionCount">1</span></span>
                    </div>
                </div>
            </div>
            <div class="subject-schedule" id="subjectSchedule" style="display: none;">
                <h3>Horario de Cursado</h3>
                <ul id="scheduleList"></ul>
            </div>
            <button class="back-btn" onclick="goBack()">Volver</button>
        </div>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DE HISTORIAL (#historyScreen)                            -->
    <!-- =================================================================== -->
    <div id="historyScreen" class="screen">
        <section class="historial-container">
            <header class="historial-header">
                <h2>Historial de Pomodoros</h2>
                <p>Visualiza tus sesiones de estudio por mes, semana o día.</p>
            </header>

            <div class="vista-selector">
                <button class="vista-btn" data-vista="mes">Mes</button>
                <button class="vista-btn" data-vista="semana">Semana</button>
                <button class="vista-btn active" data-vista="dia">Día</button>
            </div>

            <div class="fecha-selector">
                <label for="date-input">Seleccionar Día:</label>
                <input type="date" id="date-input" value="2024-09-10">
            </div>

            <div class="resumen-grid" id="history-summary-grid">
                <div class="resumen-card">
                    <span class="material-icons icon">schedule</span>
                    <div class="card-content">
                        <span class="card-label">Total de Horas</span>
                        <span class="card-value" id="history-total-hours">0h</span>
                    </div>
                </div>
                <div class="resumen-card">
                    <span class="material-icons icon">bar_chart</span>
                    <div class="card-content">
                        <span class="card-label">Sesiones</span>
                        <span class="card-value" id="history-total-sessions">0</span>
                    </div>
                </div>
                <div class="resumen-card">
                    <span class="material-icons icon">library_books</span>
                    <div class="card-content">
                        <span class="card-label">Materias</span>
                        <span class="card-value" id="history-total-subjects">0</span>
                    </div>
                </div>
                <div class="resumen-card">
                    <span class="material-icons icon">today</span>
                    <div class="card-content">
                        <span class="card-label">Promedio/Sesión</span>
                        <span class="card-value" id="history-avg-session">0min</span>
                    </div>
                </div>
            </div>

            <div id="history-distribution-container">
                <div id="weekly-summary-details" style="display: none;">
    <h3>Resumen Semanal Detallado</h3>
    <div id="weekly-day-grid">
    </div>
    <p><strong>Total Semanal:</strong> <span id="weekly-total-hours">0h</span></p>
</div>
            </div>
            <button class="back-btn" onclick="goBackToWelcome()">Volver al Inicio</button>
        </section>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DE RESUMEN DEL POMODORO (#summaryScreen)                 -->
    <!-- =================================================================== -->
    <div id="summaryScreen" class="screen">
        <div class="summary-container">
            <h2 class="summary-title">Pomodoro Completado</h2>
            <div class="summary-details">
                <p><strong>Actividad:</strong> <span id="summaryActivity"></span></p>
                <p><strong>Duración de Trabajo:</strong> <span id="summaryWorkTime"></span></p>
                <p><strong>Duración de Descanso:</strong> <span id="summaryBreakTime"></span></p>
                <p><strong>Fecha:</strong> <span id="summaryDate"></span></p>
            </div>
            <div class="overall-summary">
                <h3>Resumen General</h3>
                <p><strong>Pomodoros Completados:</strong> <span id="totalPomodoros">0</span></p>
                <p><strong>Tiempo Total de Trabajo:</strong> <span id="totalStudyTime">0h 0m</span></p>
                <p><strong>Tiempo Total de Descanso:</strong> <span id="totalBreakTime">0h 0m</span></p>
            </div>
            <div class="summary-buttons">
                <button id="startNextSessionBtn" class="start-btn" onclick="startNextSession()">Iniciar Descanso</button>
                <button class="back-btn" onclick="goBackToPomodoro()">Volver</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
