<!DOCTYPE html>
<!-- El atributo lang="es" le dice al navegador que el idioma principal de la p치gina es espa침ol. -->
<html lang="es">
<head>
    <!-- Configuraci칩n de caracteres para que se muestren bien las tildes y e침es. -->
    <meta charset="UTF-8">
    <!-- Asegura que la p치gina se vea bien en todos los dispositivos (dise침o responsivo). -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- El t칤tulo que aparece en la pesta침a del navegador. -->
    <title>Pomodoro App - Fabri Coronil</title>
    <!-- Enlace a la hoja de estilos CSS que da dise침o a la p치gina. -->
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <!-- =================================================================== -->
    <!-- PANTALLA DE BIENVENIDA (#welcomeScreen)                           -->
    <!-- =================================================================== -->
    <!-- Es la primera pantalla que ve el usuario. La clase "active" la hace visible por defecto. -->
    <div id="welcomeScreen" class="screen active">
        <div class="welcome-container">
            <h1 class="welcome-title">춰Bienvenido Fabri Coronil!</h1>
            <p class="welcome-subtitle">Es hora de trabajar!</p>
            <!-- Este bot칩n llama a la funci칩n showSelection() de JavaScript cuando se le hace clic. -->
            <button class="continue-btn" onclick="showSelection()">Continuar</button>
            <button class="continue-btn" onclick="showHistory()">Ver Historial</button>
        </div>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DE SELECCI칍N DE ESTUDIO (#selectionScreen)             -->
    <!-- =================================================================== -->
    <!-- En esta pantalla, el usuario elige entre Universidad y UTN. -->
    <div id="selectionScreen" class="screen">
        <div class="selection-container">
            <h2 class="selection-title">Elige tu 치rea de estudio</h2>
            <div class="cards-container">
                <!-- Tarjeta para Universidad: llama a selectStudy('universidad') -->
                <div class="study-card" onclick="selectStudy('universidad')">
                    <div class="card-icon">游꿉</div>
                    <h3>Universidad Cuenca de la Plata</h3>
                    <p>Ingenier칤a en Sistemas</p>
                </div>
                <!-- Tarjeta para UTN: llama a selectStudy('utn') -->
                <div class="study-card" onclick="selectStudy('utn')">
                    <div class="card-icon">游눹</div>
                    <h3>UTN</h3>
                    <p>Desarrollador Web Full Stack</p>
                </div>
            </div>
            <button class="back-btn" onclick="goBackToWelcome()">Volver</button>
        </div>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DE SELECCI칍N DE MATERIAS (#subjectsScreen)              -->
    <!-- =================================================================== -->
    <!-- Esta pantalla solo se muestra si el usuario elige "Universidad". -->
    <div id="subjectsScreen" class="screen">
        <div class="subjects-container">
            <h2 class="subjects-title">춰Selecciona una materia!</h2>
            <!-- Una grilla que contiene las tarjetas de cada materia. -->
            <div class="subjects-grid">
                <!-- Cada tarjeta llama a startPomodoro() con el nombre de la materia. -->
                <div class="subject-card" onclick="startPomodoro('Programaci칩n Estructurada')">
                    <div class="subject-icon">游닇</div>
                    <h3>Programaci칩n Estructurada</h3>
                </div>
                <div class="subject-card" onclick="startPomodoro('Matem치tica Discreta')">
                    <div class="subject-icon">游댝</div>
                    <h3>Matem치tica Discreta</h3>
                </div>
                <div class="subject-card" onclick="startPomodoro('An치lisis Matem치tico')">
                    <div class="subject-icon">游늵</div>
                    <h3>An치lisis Matem치tico</h3>
                </div>
                <div class="subject-card" onclick="startPomodoro('Arquitectura de Computadoras')">
                    <div class="subject-icon">游늻</div>
                    <h3>Arquitectura de Computadoras</h3>
                </div>
            </div>

            <!-- NUEVO: Contenedor para el horario semanal completo. -->
            <div class="weekly-schedule" id="weeklySchedule">
                <h2>Horario Semanal</h2>
                <div id="weeklyScheduleContent"></div>
            </div>

            <!-- Bot칩n para regresar a la pantalla anterior. -->
            <button class="back-btn" onclick="goBack()">Volver</button>
        </div>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DEL POMODORO (#pomodoroScreen)                          -->
    <!-- =================================================================== -->
    <!-- La pantalla principal del temporizador. -->
    <div id="pomodoroScreen" class="screen">
        <div class="pomodoro-container">
            <!-- T칤tulo de la actividad (nombre de la materia) -->
            <h2 id="currentActivity">Sesi칩n de Estudio</h2>
            
            <!-- Secci칩n para configurar los tiempos del Pomodoro. -->
            <div class="timer-setup" id="timerSetup">
                <h3>Configurar Pomodoro</h3>
                <div class="time-inputs">
                    <div class="input-group">
                        <label>Tiempo de trabajo (min):</label>
                        <input type="number" id="workTime" value="25" min="1" max="120">
                    </div>
                    <div class="input-group">
                        <label>Tiempo de descanso (min):</label>
                        <input type="number" id="breakTime" value="5" min="1" max="30">
                    </div>
                </div>
                <button class="start-btn" onclick="initializeTimer()">Comenzar</button>
            </div>

            <!-- Secci칩n que muestra el temporizador en funcionamiento (c칤rculo, tiempo, etc.). -->
            <!-- Est치 oculta por defecto con style="display: none;". -->
            <div class="timer-display" id="timerDisplay" style="display: none;">
                <div class="timer-circle">
                    <!-- La barra de progreso que se va llenando. -->
                    <div class="timer-progress" id="timerProgress"></div>
                    <div class="timer-content">
                        <!-- El tiempo restante. -->
                        <div class="timer-time" id="timerTime">25:00</div>
                        <!-- El estado actual (TRABAJO o DESCANSO). -->
                        <div class="timer-status" id="timerStatus">TRABAJO</div>
                    </div>
                </div>
                
                <!-- Botones de control del temporizador (play/pausa y reset). -->
                <div class="timer-controls">
                    <button class="control-btn" id="pauseBtn" onclick="pauseTimer()">Pausar</button>
                    <button class="control-btn" id="resetBtn" onclick="resetTimer()">Restablecer</button>
                    <button class="control-btn" id="finishBtn" onclick="finishTimer()">Terminar</button>
                </div>

                <!-- Muestra el n칰mero de sesiones completadas. -->
                <div class="session-info">
                    <div class="session-counter">
                        <span>Sesi칩n: <span id="sessionCount">1</span></span>
                    </div>
                </div>
            </div>

            <!-- NUEVO: Contenedor para el horario de la materia seleccionada. -->
            <div class="subject-schedule" id="subjectSchedule" style="display: none;">
                <h3>Horario de Cursado</h3>
                <ul id="scheduleList"></ul>
            </div>

            <!-- Bot칩n de volver movido al final del contenedor -->
            <button class="back-btn" onclick="goBack()">Volver</button>
        </div>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DE HISTORIAL (#historyScreen)                            -->
    <!-- =================================================================== -->
    <div id="historyScreen" class="screen">
        <section class="historial-container">
            <header class="historial-header">
                <h2>Historial de Pomodoros</h2>
                <p>Visualiza tus sesiones de estudio por mes, semana o d칤a.</p>
            </header>

            <div class="vista-selector">
                <button class="vista-btn" data-vista="mes">Mes</button>
                <button class="vista-btn" data-vista="semana">Semana</button>
                <button class="vista-btn active" data-vista="dia">D칤a</button>
            </div>

            <div class="fecha-selector">
                <label for="date-input">Seleccionar D칤a:</label>
                <input type="date" id="date-input" value="2024-09-10">
            </div>

            <div class="resumen-grid">
                <div class="resumen-card">
                    <span class="material-icons icon">schedule</span>
                    <div class="card-content">
                        <span class="card-label">Total de Horas</span>
                        <span class="card-value">3.8h</span>
                    </div>
                </div>
                <div class="resumen-card">
                    <span class="material-icons icon">bar_chart</span>
                    <div class="card-content">
                        <span class="card-label">Sesiones</span>
                        <span class="card-value">3</span>
                    </div>
                </div>
                <div class="resumen-card">
                    <span class="material-icons icon">library_books</span>
                    <div class="card-content">
                        <span class="card-label">Materias</span>
                        <span class="card-value">3</span>
                    </div>
                </div>
                <div class="resumen-card">
                    <span class="material-icons icon">today</span>
                    <div class="card-content">
                        <span class="card-label">Promedio/Sesi칩n</span>
                        <span class="card-value">77min</span>
                    </div>
                </div>
            </div>

            <div class="distribucion-container">
                <h3 class="distribucion-titulo">
                    <span class="material-icons">school</span>
                    Distribuci칩n por Materia - Universidad de la Cuenca
                </h3>
                <div class="materia-item">
                    <span>Programaci칩n Estructurada</span>
                    <div class="materia-stats">
                        <span class="tiempo">45min</span>
                        <span class="porcentaje">19.6%</span>
                    </div>
                </div>
                <div class="materia-item">
                    <span>An치lisis Matem치tico</span>
                    <div class="materia-stats">
                        <span class="tiempo">1h 30min</span>
                        <span class="porcentaje">39.1%</span>
                    </div>
                </div>
            </div>

            <div class="distribucion-container">
                <h3 class="distribucion-titulo">
                     <span class="material-icons">code</span>
                    Distribuci칩n con la UTN
                </h3>
                <div class="materia-item">
                    <span>React y Node.js</span>
                    <div class="materia-stats">
                        <span class="tiempo">1h 35min</span>
                        <span class="porcentaje">41.3%</span>
                    </div>
                </div>
            </div>
            <button class="back-btn" onclick="goBackToWelcome()">Volver al Inicio</button>
        </section>
    </div>

    <!-- =================================================================== -->
    <!-- PANTALLA DE RESUMEN DEL POMODORO (#summaryScreen)                 -->
    <!-- =================================================================== -->
    <div id="summaryScreen" class="screen">
        <div class="summary-container">
            <h2 class="summary-title">Pomodoro Completado</h2>
            <div class="summary-details">
                <p><strong>Actividad:</strong> <span id="summaryActivity"></span></p>
                <p><strong>Duraci칩n de Trabajo:</strong> <span id="summaryWorkTime"></span></p>
                <p><strong>Duraci칩n de Descanso:</strong> <span id="summaryBreakTime"></span></p>
                <p><strong>Fecha:</strong> <span id="summaryDate"></span></p>
            </div>
            <div class="overall-summary">
                <h3>Resumen General</h3>
                <p><strong>Pomodoros Completados:</strong> <span id="totalPomodoros">0</span></p>
                <p><strong>Tiempo Total de Trabajo:</strong> <span id="totalStudyTime">0h 0m</span></p>
                <p><strong>Tiempo Total de Descanso:</strong> <span id="totalBreakTime">0h 0m</span></p>
            </div>
            <button class="back-btn" onclick="goBackToPomodoro()">Empezar Otro Pomodoro</button>
        </div>
    </div>

    <!-- Enlace al archivo JavaScript que controla toda la l칩gica de la aplicaci칩n. -->
    <script src="script.js"></script>
</body>
</html>
